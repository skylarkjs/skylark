/**
 * skylark-utils - An Elegant HTML5 JavaScript Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.5
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./skylark","./langx","./noder"],function(e,t,r){function n(e,n){var i,u={type:"text/css"},a=R++;return n=n||{},n.media&&(u.media=n.media),i=e?r.create("link",t.mixin(u,{rel:"stylesheet",async:!1})):r.createElement("style",u),r.append(v,i),p[a]={id:a,node:i},a}function i(e,t){t||(t={});var r=n(!1,t);return e&&d(r,e),r}function u(e,r){var n=p[e];return t.isNumber(r)?A.call(n,r):t.each(n[E],function(e,t){if(r===t)return A.call(n,e),!1}),this}function a(e){return u(g,e),this}function l(e){if(e===g)throw new Error("The default stylesheet can not be deleted");var t=p[e];return delete p[e],r.remove(t.node),this}function s(e,t,r){return this.insertSheetRule(g,e,t,r)}function c(e){return this.addRules(g,e)}function o(e,t,r,n){if(!t||!r)return-1;var i=p[e];return n=n||i[E].length,S.call(i,t,r,n)}function d(e,n){var i,u=p[e];return i=t.isString(n)?n:h(n),r.append(u.node,r.createTextNode(i)),this}function f(e){return e.startsWith("@")}function h(e){var r=function(e,t,r){return e&&(f(e)?r+=1:t=e+" "+t),{name:t,depth:r}},n=function(e,i,u){var a="",l=f(e);if(f(e))t.isString(i)?a=m.SPACE.repeat(u)+e.trim()+' "'+i.trim()+' ";\n':(a+=m.SPACE.repeat(u)+e.trim()+" {\n",a+=n("",i,u+1),a+=m.SPACE.repeat(u)+" }\n");else if(t.isString(i))a=m.SPACE.repeat(u)+e.trim(),a=l?a+' "'+i.trim()+' ";\n':a+": "+i.trim()+";\n";else if(t.isArray(i))for(var s=0;s<i.length;s++)a+=n(e,i[s],u);else{if(e){a+=m.SPACE.repeat(u)+e.trim()+" {\n";for(var s in i){var c=i[s];t.isString(c)&&(a+=n(s,c,u+1))}a+=m.SPACE.repeat(u)+"}\n"}for(var s in i){var c=i[s];if(!t.isString(c)){var o=r(e,s,u);a+=n(o.name,c,o.depth)}}}return a};return n("",e,0)}function m(){return m}var S,v=document.getElementsByTagName("head")[0],R=0,p={},g=n(),y=p[g],E="cssRules"in y?"cssRules":"rules",A=y.deleteRule||y.removeRule;if(y.insertRule){var C=y.insertRule;S=function(e,t,r){C.call(this,e+"{"+t+"}",r)}}else S=y.addRule;return t.mixin(m,{SPACE:"\t",addRules:c,addSheetRules:d,createStyleSheet:i,deleteSheetRule:u,deleteRule:a,insertRule:s,insertSheetRule:o,removeStyleSheet:l,toString:h}),e.css=m});
//# sourceMappingURL=sourcemaps/css.js.map
