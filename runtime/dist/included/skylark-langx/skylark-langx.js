/**
 * skylark-langx - A simple JavaScript language extension library, including class support, Evented class, Deferred class and some commonly used tool functions.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.5-beta
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(n,t){function r(n,t){if("."!==n[0])return n;var r=t.split("/"),e=n.split("/");r.pop();for(var i=0;i<e.length;i++)"."!=e[i]&&(".."==e[i]?r.pop():r.push(e[i]));return r.join("/")}var e=t.define,i=t.require,o="function"==typeof e&&e.amd,u=!o&&"undefined"!=typeof exports;if(!o&&!e){var a={};e=t.define=function(n,t,e){"function"==typeof e?(a[n]={factory:e,deps:t.map(function(t){return r(t,n)}),exports:null},i(n)):resolved[n]=e},i=t.require=function(n){if(!a.hasOwnProperty(n))throw new Error("Module "+n+" has not been defined");var t=a[n];if(!t.exports){var r=[];t.deps.forEach(function(n){r.push(i(n))}),t.exports=t.factory.apply(window,r)}return t.exports}}if(n(e,i),o)e(["skylark-langx/main"],function(n){return n});else{var c=i("skylark-langx/main");u?exports=c:t.skylarkjs=c}}(function(n,t){n("skylark-langx/skylark",[],function(){var n={};return n}),n("skylark-langx/langx",["./skylark"],function(n){function t(n,t,r,e){var i,o=n[t],u="around"==t;if(u){var a=r(function(){return o.advice(this,arguments)});i={remove:function(){a&&(a=n=r=null)},advice:function(n,t){return a?a.apply(n,t):o.advice(n,t)}}}else i={remove:function(){if(i.advice){var e=i.previous,o=i.next;o||e?(e?e.next=o:n[t]=o,o&&(o.previous=e)):delete n[t],n=r=i.advice=null}},id:W++,advice:r,receiveArguments:e};if(o&&!u)if("after"==t){for(;o.next&&(o=o.next););o.next=i,i.previous=o}else"before"==t&&(n[t]=i,i.next=o,o.previous=i);else n[t]=i;return i}function r(n){return function(r,e,i,o){var u,a=r[e];a&&a.target==r||(r[e]=u=function(){for(var n=W,t=arguments,r=u.before;r;)t=r.advice.apply(this,t)||t,r=r.next;if(u.around)var e=u.around.advice(this,t);for(var i=u.after;i&&i.id<n;){if(i.receiveArguments){var o=i.advice.apply(this,t);e=o===Z?e:o}else e=i.advice.call(this,e,t);i=i.next}return e},a&&(u.around={advice:function(n,t){return a.apply(n,t)}}),u.target=r);var c=t(u||a,n,i,o);return i=null,c}}function e(n){var t;if(n===Z||null===n)t=n;else if(n.clone)t=n.clone();else if(h(n)){t=[];for(var r=0;r<n.length;r++)t.push(e(n[r]))}else if(b(n)){t={};for(var i in n)t[i]=e(n[i])}else t=n;return t}function i(n,t){var r,e,i=function(){n.apply(null,e)};return function(){e=arguments,clearTimeout(r),r=setTimeout(i,t)}}function o(n){return V.call(n,function(n){return null!=n})}function u(n){return n.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function a(n){try{return n?"true"==n||"false"!=n&&("null"==n?null:+n+""==n?+n:/^[\[\{]/.test(n)?JSON.parse(n):n):n}catch(t){return n}}function c(n,t){var r,e,i,o,u;if(n)if(r=n.length,r===o){for(e in n)if(n.hasOwnProperty(e)&&(u=n[e],t.call(u,e,u)===!1))break}else for(i=0;i<r&&(u=n[i],t.call(u,i,u)!==!1);i++);return this}function s(n){if(v(n)){for(var t=[],r=0;r<n.length;r++){var e=n[r];if(v(e))for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e)}return t}return n}function f(n,t,r,e){return g(t)?t.call(n,r,e):t}function l(n){var n=n||window.location.href,t=n.split("?"),r={};return t.length>1&&t[1].split("&").forEach(function(n){var t=n.split("=");r[t[0]]=t[1]}),r}function p(n,t){if(!t)return-1;var r;if(t.indexOf)return t.indexOf(n)>-1;for(r=t.length;r--;)if(t[r]===n)return!0;return!1}function h(n){return n&&n.constructor===Array}function v(n){return!x(n)&&!_(n)&&"number"==typeof n.length}function d(n){return"boolean"==typeof n}function y(n){return null!=n&&n.nodeType==n.DOCUMENT_NODE}function g(n){return"function"==K(n)}function m(n){return"object"==K(n)}function b(n){return m(n)&&!w(n)&&Object.getPrototypeOf(n)==Object.prototype}function x(n){return"string"==typeof n}function w(n){return n&&n==n.window}function k(n){return"undefined"!=typeof n}function _(n){return n&&n instanceof Node}function j(n){return"number"==typeof n}function O(n){if(n){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),n.startsWith(t)}}function E(n){var t;for(t in n)if(null!==n[t])return!1;return!0}function A(n,t,r){return(r||[]).concat(Array.prototype.slice.call(n,t||0))}function T(n,t){var r,e,i,o=[];if(v(n))for(e=0;e<n.length;e++)r=t.call(n[e],n[e],e),null!=r&&o.push(r);else for(i in n)r=t.call(n[i],n[i],i),null!=r&&o.push(r);return s(o)}function P(n){return requestAnimationFrame(n),this}function N(n,t){var r=2 in arguments&&J.call(arguments,2);if(g(n)){var e=function(){return n.apply(t,r?r.concat(J.call(arguments)):arguments)};return e}if(x(t))return r?(r.unshift(n[t],n),N.apply(null,r)):N(n[t],n);throw new TypeError("expected function")}function S(n){return parseFloat(n)||0}function C(n){return null==n?"":String.prototype.trim.call(n)}function F(n,t){if(h(n)){var r=n.indexOf(t);r!=-1&&n.splice(r,1)}else if(b(n))for(var e in n)if(n[e]==t){delete n[e];break}return this}function L(n,t,r,e){for(var i in t)t.hasOwnProperty(i)&&(e&&n[i]!==Z||(r&&(b(t[i])||h(t[i]))?(b(t[i])&&!b(n[i])&&(n[i]={}),h(t[i])&&!h(n[i])&&(n[i]=[]),L(n[i],t[i],r,e)):t[i]!==Z&&(n[i]=t[i])));return n}function z(n){var t=J.call(arguments,0);return target=t.shift(),deep=!1,d(t[t.length-1])&&(deep=t.pop()),{target:target,sources:t,deep:deep}}function D(){var n=z.apply(this,arguments);return n.sources.forEach(function(t){L(n.target,t,n.deep,!1)}),n.target}function U(){var n=z.apply(this,arguments);return n.sources.forEach(function(t){L(n.target,t,n.deep,!0)}),n.target}function $(n,t,r,e){function i(n,t){if(n.match(/\./)){var r,e=function(n,t){var i=n.pop();return i?t[i]?e(n,r=t[i]):null:r};return e(n.split(".").reverse(),t)}return t[n]}return e=e||window,r=r?N(e,r):function(n){return n},n.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(n,o,u){var a=i(o,t);return u&&(a=i(u,e).call(e,a,o)),r(a,o).toString()})}function q(n){return n._uid||(n._uid=X++)}function R(n){return V.call(n,function(t,r){return n.indexOf(t)==r})}function M(){return M}var Z,B={}.toString,J=(Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice),V=Array.prototype.filter,W=0,H=function(){function n(n,t,r){var e=n.prototype,i=n.superclass.prototype,o=r&&r.noOverrided;for(var u in t)"constructor"!==u&&(e[u]="function"!=typeof t[u]||o||"function"!=typeof i[u]?t[u]:function(n,t,r){return function(){var n=this.overrided;this.overrided=r;var e=t.apply(this,arguments);return this.overrided=n,e}}(u,t[u],i[u]));return n}return function t(r,e,i){var o=r.constructor;o===Object&&(o=function(){this.init&&this.init.apply(this,arguments)});var u=r.klassName||"",a=new Function("return function "+u+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}ctor._constructor.apply(inst, arguments);return inst;}")();return a._constructor=o,e=e||Object,a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.superclass=e,a.__proto__=e,a.partial||(a.partial=function(t,r){return n(this,t,r)}),a.inherit||(a.inherit=function(n,r){return t(n,this,r)}),a.partial(r,i),a}}(),I=function(){function n(){}return function(t,r){n.prototype=t;var e=new n;return n.prototype=null,r&&D(e,r),e}}(),Q=function(){this.promise=new Promise(function(n,t){this._resolve=n,this._reject=t}.bind(this)),this.resolve=Q.prototype.resolve.bind(this),this.reject=Q.prototype.reject.bind(this)};Q.prototype.resolve=function(n){return this._resolve.call(this.promise,n),this},Q.prototype.reject=function(n){return this._reject.call(this.promise,n),this},Q.prototype.then=function(n,t,r){return this.promise.then(n,t,r)},Q.all=function(n){return Promise.all(n)},Q.first=function(n){return Promise.race(n)},Q.when=function(n,t,r,e){var i=n&&"function"==typeof n.then,o=i&&n instanceof Promise;if(!i)return arguments.length>1?t?t(n):n:(new Q).resolve(n);if(!o){var u=new Q(n.cancel);n.then(u.resolve,u.reject,u.progress),n=u.promise}return t||r||e?n.then(t,r,e):n},Q.reject=function(n){var t=new Q;return t.reject(n),t.promise},Q.resolve=function(n){var t=new Q;return t.resolve(n),t.promise},Q.immediate=Q.resolve;var G=H({on:function(n,t,r,e,i,o){var u=this,a=this._hub||(this._hub={});return b(n)?(i=e,c(n,function(n,e){u.on(n,t,r,e,i,o)}),this):(x(t)||g(e)||(i=e,e=r,r=t,t=Z),g(r)&&(i=e,e=r,r=null),x(n)&&(n=n.split(/\s/)),n.forEach(function(n){(a[n]||(a[n]=[])).push({fn:e,selector:t,data:r,ctx:i,one:o})}),this)},one:function(n,t,r,e,i){return this.on(n,t,r,e,i,1)},trigger:function(n){if(!this._hub)return this;var t=this;x(n)&&(n=new CustomEvent(n));var r=J.call(arguments,1);return r=k(r)?[n].concat(r):[n],[n.type||n.name,"all"].forEach(function(e){var i=t._hub[e];if(i){for(var u=i.length,a=!1,c=0;c<u;c++){var s=i[c];n.data?s.data&&(n.data=D({},s.data,n.data)):n.data=s.data||null,s.fn.apply(s.ctx,r),s.one&&(i[c]=null,a=!0)}a&&(t._hub[e]=o(i))}}),this},listened:function(n){var t=(this._hub||(this._events={}))[n]||[];return t.length>0},listenTo:function(n,t,r,e){if(!n)return this;x(r)&&(r=this[r]),e?n.one(t,r,this):n.on(t,r,this);for(var i,o=this._listeningTo||(this._listeningTo=[]),u=0;u<o.length;u++)if(o[u].obj==n){i=o[u];break}i||o.push(i={obj:n,events:{}});var a=i.events,c=a[t]=a[t]||[];return c.indexOf(r)==-1&&c.push(r),this},listenToOnce:function(n,t,r){return this.listenTo(n,t,r,1)},off:function(n,t){var r=this._hub||(this._hub={});return x(n)&&(n=n.split(/\s/)),n.forEach(function(n){var e=r[n],i=[];if(e&&t)for(var o=0,u=e.length;o<u;o++)e[o].fn!==t&&e[o].fn._!==t&&i.push(e[o]);i.length?r[n]=i:delete r[n]}),this},unlistenTo:function(n,t,r){var e=this._listeningTo;if(!e)return this;for(var i=0;i<e.length;i++){var u=e[i];if(!n||n==u.obj){var a=u.events;for(var c in a)if(!t||t==c){listeningEvent=a[c];for(var s=0;s<listeningEvent.length;s++)r&&r!=listeningEvent[i]||(u.obj.off(c,listeningEvent[i],this),listeningEvent[i]=null);listeningEvent=a[c]=o(listeningEvent),E(listeningEvent)&&(a[c]=null)}E(a)&&(e[i]=null)}}return e=this._listeningTo=o(e),E(e)&&(this._listeningTo=null),this}}),K=(function(){var n;return function(t){return n||(n=document.createElement("a")),n.href=t,n.href}}(),function(){var n={};return c("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,r){n["[object "+r+"]"]=r.toLowerCase()}),function(t){return null==t?String(t):n[B.call(t)]||"object"}}()),X=1;return D(M,{after:r("after"),around:r("around"),before:r("before"),camelCase:function(n){return n.replace(/-([\da-z])/g,function(n){return n.toUpperCase().replace("-","")})},clone:e,compact:o,dasherize:u,debounce:i,delegate:I,Deferred:Q,Evented:G,deserializeValue:a,each:c,flatten:s,funcArg:f,getQueryParams:l,inArray:p,isArray:h,isArrayLike:v,isBoolean:d,isDefined:function(n){return n!==Z},isDocument:y,isEmptyObject:E,isFunction:g,isHtmlNode:_,isObject:m,isPlainObject:b,isNumber:j,isString:x,isSameOrigin:O,isWindow:w,klass:function(n,t,r){return H(n,t,r)},lowerFirst:function(n){return n.charAt(0).toLowerCase()+n.slice(1)},makeArray:A,map:T,mixin:D,nextTick:P,proxy:N,removeItem:F,returnTrue:function(){return!0},returnFalse:function(){return!1},safeMixin:U,serializeValue:function(n){return JSON.stringify(n)},substitute:$,toPixel:S,trim:C,type:K,uid:q,uniq:R,upperFirst:function(n){return n.charAt(0).toUpperCase()+n.slice(1)},URL:window.URL||window.webkitURL}),n.langx=M}),n("skylark-langx/main",["./skylark","./langx"],function(n){return n}),n("skylark-langx",["skylark-langx/main"],function(n){return n})},this);
//# sourceMappingURL=sourcemaps/skylark-langx.js.map
