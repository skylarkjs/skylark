{"version":3,"sources":["async.js"],"names":["define","Deferred","arrays","each","async","parallel","arr","args","ctx","rets","i","func","push","apply","all","series","d","p","promise","resolve","then","waterful","resolveWith"],"mappings":";;;;;;;AAAAA,QACI,aACA,YACF,SAASC,EAASC,GAChB,GAAIC,GAAOD,EAAOC,KAEdC,GACAC,SAAW,SAASC,EAAIC,EAAKC,GACzB,GAAIC,KAQJ,OAPAD,GAAMA,GAAO,KACbD,EAAOA,MAEPJ,EAAKG,EAAI,SAASI,EAAEC,GAChBF,EAAKG,KAAKD,EAAKE,MAAML,EAAID,MAGtBN,EAASa,IAAIL,IAGxBM,OAAS,SAAST,EAAIC,EAAKC,GACvB,GAAIC,MACAO,EAAI,GAAIf,GACRgB,EAAID,EAAEE,OAaV,OAXAV,GAAMA,GAAO,KACbD,EAAOA,MAEPS,EAAEG,UACFhB,EAAKG,EAAI,SAASI,EAAEC,GAChBM,EAAIA,EAAEG,KAAK,WACP,MAAOT,GAAKE,MAAML,EAAID,KAE1BE,EAAKG,KAAKK,KAGPhB,EAASa,IAAIL,IAGxBY,SAAW,SAASf,EAAIC,EAAKC,GACzB,GAAIQ,GAAI,GAAIf,GACRgB,EAAID,EAAEE,OAUV,OARAV,GAAMA,GAAO,KACbD,EAAOA,MAEPS,EAAEM,YAAYd,EAAID,GAElBJ,EAAKG,EAAI,SAASI,EAAEC,GAChBM,EAAIA,EAAEG,KAAKT,KAERM,GAIlB,OAAOb","file":"../async.js","sourcesContent":["define([\r\n    \"./Deferred\",\r\n    \"./arrays\"\r\n],function(Deferred,arrays){\r\n    var each = arrays.each;\r\n    \r\n    var async = {\r\n        parallel : function(arr,args,ctx) {\r\n            var rets = [];\r\n            ctx = ctx || null;\r\n            args = args || [];\r\n\r\n            each(arr,function(i,func){\r\n                rets.push(func.apply(ctx,args));\r\n            });\r\n\r\n            return Deferred.all(rets);\r\n        },\r\n\r\n        series : function(arr,args,ctx) {\r\n            var rets = [],\r\n                d = new Deferred(),\r\n                p = d.promise;\r\n\r\n            ctx = ctx || null;\r\n            args = args || [];\r\n\r\n            d.resolve();\r\n            each(arr,function(i,func){\r\n                p = p.then(function(){\r\n                    return func.apply(ctx,args);\r\n                });\r\n                rets.push(p);\r\n            });\r\n\r\n            return Deferred.all(rets);\r\n        },\r\n\r\n        waterful : function(arr,args,ctx) {\r\n            var d = new Deferred(),\r\n                p = d.promise;\r\n\r\n            ctx = ctx || null;\r\n            args = args || [];\r\n\r\n            d.resolveWith(ctx,args);\r\n\r\n            each(arr,function(i,func){\r\n                p = p.then(func);\r\n            });\r\n            return p;\r\n        }\r\n    };\r\n\r\n\treturn async;\t\r\n});"]}