{"version":3,"sources":["_storages/localStorage.js"],"names":["define","langx","localStorage","storage","window","e","mixin","isSupported","set","key","val","undefined","this","remove","setItem","serializeValue","get","defaultVal","deserializeValue","getItem","removeItem","clear","forEach","callback","i","length","store"],"mappings":";;;;;;;AAAAA,QACI,YACD,SAASC,GASR,QAASC,KACL,MAAOA,GATX,GAAIC,GAAW,IAEf,KACIA,EAAUC,OAAqB,aACjC,MAAOC,IA0CT,MAlCAJ,GAAMK,MAAMJ,GACRK,YAAc,WACV,QAASJ,GAGbK,IAAM,SAASC,EAAKC,GAChB,MAAYC,UAARD,EACOE,KAAKC,OAAOJ,IAEvBN,EAAQW,QAAQL,EAAKR,EAAMc,eAAeL,IACnCA,IAGXM,IAAM,SAASP,EAAKQ,GAChB,GAAIP,GAAMT,EAAMiB,iBAAiBf,EAAQgB,QAAQV,GACjD,OAAgBE,UAARD,EAAoBO,EAAaP,GAG7CG,OAAS,SAASJ,GACdN,EAAQiB,WAAWX,IAGvBY,MAAQ,WACJlB,EAAQkB,SAGZC,QAAU,SAASC,GACf,IAAK,GAAIC,GAAE,EAAGA,EAAErB,EAAQsB,OAAQD,IAAK,CACjC,GAAIf,GAAMN,EAAQM,IAAIe,EACtBD,GAASd,EAAKiB,MAAMV,IAAIP,QAK5BP","file":"../../_storages/localStorage.js","sourcesContent":["define([\n    \"../langx\"\n], function(langx) {\n    var storage  = null;\n\n    try {\n        storage = window[\"localStorage\"];\n    } catch (e){\n\n    }\n\n    function localStorage() {\n        return localStorage;\n    }\n\n    langx.mixin(localStorage, {\n        isSupported : function() {\n            return !!storage;\n        },\n\n        set : function(key, val) {\n            if (val === undefined) { \n                return this.remove(key) \n            }\n            storage.setItem(key, langx.serializeValue(val));\n            return val\n        },\n\n        get : function(key, defaultVal) {\n            var val = langx.deserializeValue(storage.getItem(key))\n            return (val === undefined ? defaultVal : val)\n        },\n\n        remove : function(key) { \n            storage.removeItem(key) \n        },\n\n        clear : function() { \n            storage.clear() \n        },\n\n        forEach : function(callback) {\n            for (var i=0; i<storage.length; i++) {\n                var key = storage.key(i)\n                callback(key, store.get(key))\n            }\n        }\n    });\n\n    return  localStorage;\n\n});\n\n"]}