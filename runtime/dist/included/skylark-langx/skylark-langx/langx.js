/**
 * skylark-langx - A simple JavaScript language extension library, including class support, Evented class, Deferred class and some commonly used tool functions.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.5-beta
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./skylark"],function(t){function n(t){var r;if(void 0===t||null===t)r=t;else if(t.clone)r=t.clone();else if(f(t)){r=[];for(var e=0;e<t.length;e++)r.push(n(t[e]))}else if(y(t)){r={};for(var i in t)r[i]=n(t[i])}else r=t;return r}function r(t,n){var r,e,i=function(){t.apply(null,e)};return function(){e=arguments,clearTimeout(r),r=setTimeout(i,n)}}function e(t){return B.call(t,function(t){return null!=t})}function i(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function o(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(n){return t}}function u(t,n){var r,e,i,o,u;if(t)if(r=t.length,r===o){for(e in t)if(t.hasOwnProperty(e)&&(u=t[e],n.call(u,e,u)===!1))break}else for(i=0;i<r&&(u=t[i],n.call(u,i,u)!==!1);i++);return this}function c(t){if(p(t)){for(var n=[],r=0;r<t.length;r++){var e=t[r];if(p(e))for(var i=0;i<e.length;i++)n.push(e[i]);else n.push(e)}return n}return t}function a(t,n,r,e){return d(n)?n.call(t,r,e):n}function s(t){var t=t||window.location.href,n=t.split("?"),r={};return n.length>1&&n[1].split("&").forEach(function(t){var n=t.split("=");r[n[0]]=n[1]}),r}function l(t,n){if(!n)return-1;var r;if(n.indexOf)return n.indexOf(t)>-1;for(r=n.length;r--;)if(n[r]===t)return!0;return!1}function f(t){return t&&t.constructor===Array}function p(t){return!(m(t)||t.nodeName&&"#text"==t.nodeName||"number"!=typeof t.length)}function h(t){return"boolean"==typeof t}function v(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function d(t){return"function"==H(t)}function g(t){return"object"==H(t)}function y(t){return g(t)&&!b(t)&&Object.getPrototypeOf(t)==Object.prototype}function m(t){return"string"==typeof t}function b(t){return t&&t==t.window}function _(t){return"undefined"!=typeof t}function w(t){return t&&t instanceof Node}function O(t){return"number"==typeof t}function j(t){if(t){var n=location.protocol+"//"+location.hostname;return location.port&&(n+=":"+location.port),t.startsWith(n)}}function E(t){var n;for(n in t)if(null!==t[n])return!1;return!0}function A(t,n,r){return(r||[]).concat(Array.prototype.slice.call(t,n||0))}function x(t,n){var r,e,i,o=[];if(p(t))for(e=0;e<t.length;e++)r=n.call(t[e],t[e],e),null!=r&&o.push(r);else for(i in t)r=n.call(t[i],t[i],i),null!=r&&o.push(r);return c(o)}function T(t){return requestAnimationFrame(t),this}function k(t,n){var r=2 in arguments&&q.call(arguments,2);if(d(t)){var e=function(){return t.apply(n,r?r.concat(q.call(arguments)):arguments)};return e}if(m(n))return r?(r.unshift(t[n],t),k.apply(null,r)):k(t[n],t);throw new TypeError("expected function")}function N(t){return parseFloat(t)||0}function P(t){return null==t?"":String.prototype.trim.call(t)}function S(t,n){if(f(t)){var r=t.indexOf(n);r!=-1&&t.splice(r,1)}else if(y(t))for(var e in t)if(t[e]==n){delete t[e];break}return this}function C(t,n,r,e){for(var i in n)n.hasOwnProperty(i)&&(e&&void 0!==t[i]||(r&&(y(n[i])||f(n[i]))?(y(n[i])&&!y(t[i])&&(t[i]={}),f(n[i])&&!f(t[i])&&(t[i]=[]),C(t[i],n[i],r,e)):void 0!==n[i]&&(t[i]=n[i])));return t}function F(t){var n=q.call(arguments,0);return target=n.shift(),deep=!1,h(n[n.length-1])&&(deep=n.pop()),{target:target,sources:n,deep:deep}}function L(){var t=F.apply(this,arguments);return t.sources.forEach(function(n){C(t.target,n,t.deep,!1)}),t.target}function z(){var t=F.apply(this,arguments);return t.sources.forEach(function(n){C(t.target,n,t.deep,!0)}),t.target}function D(t,n,r,e){function i(t,n){if(t.match(/\./)){var r,e=function(t,n){var i=t.pop();return i?n[i]?e(t,r=n[i]):null:r};return e(t.split(".").reverse(),n)}return n[t]}return e=e||window,r=r?k(e,r):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,o,u){var c=i(o,n);return u&&(c=i(u,e).call(e,c,o)),r(c,o).toString()})}function U(t){return t._uid||(t._uid=I++)}function $(t){return B.call(t,function(n,r){return t.indexOf(n)==r})}function R(){return R}var Z={}.toString,q=(Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice),B=Array.prototype.filter,J=function(){function t(t,n,r){var e=t.prototype,i=t.superclass.prototype,o=r&&r.noOverrided;for(var u in n)"constructor"!==u&&(e[u]="function"!=typeof n[u]||o||"function"!=typeof i[u]?n[u]:function(t,n,r){return function(){var t=this.overrided;this.overrided=r;var e=n.apply(this,arguments);return this.overrided=t,e}}(u,n[u],i[u]));return t}return function n(r,e,i){var o=r.constructor;o===Object&&(o=function(){this.init&&this.init.apply(this,arguments)});var u=r.klassName||"",c=new Function("return function "+u+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}ctor._constructor.apply(inst, arguments);return inst;}")();return c._constructor=o,e=e||Object,c.prototype=Object.create(e.prototype),c.prototype.constructor=c,c.superclass=e,c.__proto__=e,c.partial||(c.partial=function(n,r){return t(this,n,r)}),c.inherit||(c.inherit=function(t,r){return n(t,this,r)}),c.partial(r,i),c}}(),M=function(){function t(){}return function(n,r){t.prototype=n;var e=new t;return t.prototype=null,r&&L(e,r),e}}(),V=function(){this.promise=new Promise(function(t,n){this._resolve=t,this._reject=n}.bind(this)),this.resolve=V.prototype.resolve.bind(this),this.reject=V.prototype.reject.bind(this)};V.prototype.resolve=function(t){return this._resolve.call(this.promise,t),this},V.prototype.reject=function(t){return this._reject.call(this.promise,t),this},V.prototype.then=function(t,n,r){return this.promise.then(t,n,r)},V.all=function(t){return Promise.all(t)},V.first=function(t){return Promise.race(t)},V.when=function(t,n,r,e){var i=t&&"function"==typeof t.then,o=i&&t instanceof Promise;if(!i)return arguments.length>1?n?n(t):t:(new V).resolve(t);if(!o){var u=new V(t.cancel);t.then(u.resolve,u.reject,u.progress),t=u.promise}return n||r||e?t.then(n,r,e):t},V.reject=function(t){var n=new V;return n.reject(t),n.promise},V.resolve=function(t){var n=new V;return n.resolve(t),n.promise},V.immediate=V.resolve;var W=J({on:function(t,n,r,e,i,o){var c=this,a=this._hub||(this._hub={});return y(t)?(i=e,u(t,function(t,e){c.on(t,n,r,e,i,o)}),this):(m(n)||d(e)||(i=e,e=r,r=n,n=void 0),d(r)&&(i=e,e=r,r=null),m(t)&&(t=t.split(/\s/)),t.forEach(function(t){(a[t]||(a[t]=[])).push({fn:e,selector:n,data:r,ctx:i,one:o})}),this)},one:function(t,n,r,e,i){return this.on(t,n,r,e,i,1)},trigger:function(t){if(!this._hub)return this;var n=this;m(t)&&(t=new CustomEvent(t));var r=q.call(arguments,1);return r=_(r)?[t].concat(r):[t],[t.type||t.name,"all"].forEach(function(i){var o=n._hub[i];if(o){for(var u=o.length,c=!1,a=0;a<u;a++){var s=o[a];t.data?s.data&&(t.data=L({},s.data,t.data)):t.data=s.data||null,s.fn.apply(s.ctx,r),s.one&&(o[a]=null,c=!0)}c&&(n._hub[i]=e(o))}}),this},listened:function(t){var n=(this._hub||(this._events={}))[t]||[];return n.length>0},listenTo:function(t,n,r,e){if(!t)return this;m(r)&&(r=this[r]),e?t.one(n,r,this):t.on(n,r,this);for(var i,o=this._listeningTo||(this._listeningTo=[]),u=0;u<o.length;u++)if(o[u].obj==t){i=o[u];break}i||o.push(i={obj:t,events:{}});var c=i.events,a=c[n]=c[n]||[];return a.indexOf(r)==-1&&a.push(r),this},listenToOnce:function(t,n,r){return this.listenTo(t,n,r,1)},off:function(t,n){var r=this._hub||(this._hub={});return m(t)&&(t=t.split(/\s/)),t.forEach(function(t){var e=r[t],i=[];if(e&&n)for(var o=0,u=e.length;o<u;o++)e[o].fn!==n&&e[o].fn._!==n&&i.push(e[o]);i.length?r[t]=i:delete r[t]}),this},unlistenTo:function(t,n,r){var i=this._listeningTo;if(!i)return this;for(var o=0;o<i.length;o++){var u=i[o];if(!t||t==u.obj){var c=u.events;for(var a in c)if(!n||n==a){listeningEvent=c[a];for(var s=0;s<listeningEvent.length;s++)r&&r!=listeningEvent[o]||(u.obj.off(a,listeningEvent[o],this),listeningEvent[o]=null);listeningEvent=c[a]=e(listeningEvent),E(listeningEvent)&&(c[a]=null)}E(c)&&(i[o]=null)}}return i=this._listeningTo=e(i),E(i)&&(this._listeningTo=null),this}}),H=(function(){var t;return function(n){return t||(t=document.createElement("a")),t.href=n,t.href}}(),function(){var t={};return u("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,r){t["[object "+r+"]"]=r.toLowerCase()}),function(n){return null==n?String(n):t[Z.call(n)]||"object"}}()),I=1;return L(R,{camelCase:function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})},clone:n,compact:e,dasherize:i,debounce:r,delegate:M,Deferred:V,Evented:W,deserializeValue:o,each:u,flatten:c,funcArg:a,getQueryParams:s,inArray:l,isArray:f,isArrayLike:p,isBoolean:h,isDefined:function(t){return void 0!==t},isDocument:v,isEmptyObject:E,isFunction:d,isHtmlNode:w,isObject:g,isPlainObject:y,isNumber:O,isString:m,isSameOrigin:j,isWindow:b,klass:function(t,n,r){return J(t,n,r)},lowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},makeArray:A,map:x,mixin:L,nextTick:T,proxy:k,removeItem:S,returnTrue:function(){return!0},returnFalse:function(){return!1},safeMixin:z,serializeValue:function(t){return JSON.stringify(t)},substitute:D,toPixel:N,trim:P,type:H,uid:U,uniq:$,upperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},URL:window.URL||window.webkitURL}),t.langx=R});
//# sourceMappingURL=sourcemaps/langx.js.map
