/**
 * skylark - An Elegant JavaScript Library and HTML5 Application Framework.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark/skylark","skylark/langx"],function(e,t){function n(e,n){return t.isArrayLike(e)||(e=[e]),n&&(e=I.call(e,function(e){return e.cloneNode(!0)})),e}function r(e,t){var n=e.nodeName&&e.nodeName.toLowerCase();return void 0!==t?n===t.toLowerCase():n}function i(e){return r(e,"iframe")?e.contentDocument:e.childNodes}function o(e,n){if(void 0===n)return e.innerHTML;if(this.empty(e),n=n||"",t.isString(n)||t.isNumber(n))e.innerHTML=n;else if(t.isArrayLike(n))for(var r=0;r<n.length;r++)e.appendChild(n[r]);else e.appendChild(n)}function a(e,t){var n,r=this;return!L||1!==e.nodeType||t?e.cloneNode(t):t?void 0:(n=document.createElement(e.nodeName),each(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n)}function d(e,n){var r=document.createElement(e);return n&&t.mixin(r,n),r}function c(e){if(M.test(e))return[d(RegExp.$1)];var t=B.test(e)&&RegExp.$1;t in F||(t="*");var n=F[t];return n.innerHTML=""+e,dom=R.call(n.childNodes),dom.forEach(function(e){n.removeChild(e)}),dom}function u(e,t){return h(t,e)}function l(e){return document.createTextNode(e)}function s(){return document}function f(e){for(;e.hasChildNodes();){var t=e.firstChild;e.removeChild(t)}return this}function h(e,t){if(document.documentElement.contains)return t.contains(e);for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function p(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function m(e){return e?9==e.nodeType?e:e.ownerDocument:document}function v(e,t,r){var i=e,o=i.parentNode;if(o)for(var a=n(t,r),i=i.nextSibling,d=0;d<a.length;d++)i?o.insertBefore(a[d],i):o.appendChild(a[d]);return this}function N(e,t,r){var i=e,o=i.parentNode;if(o)for(var a=n(t,r),d=0;d<a.length;d++)o.insertBefore(a[d],i);return this}function g(e,t,r){for(var i=e,o=i.firstChild,a=n(t,r),d=0;d<a.length;d++)o?i.insertBefore(a[d],o):i.appendChild(a[d]);return this}function C(e,t,r){for(var i=e,o=n(t,r),a=0;a<o.length;a++)i.appendChild(o[a]);return this}function y(e){return e&&e.parentNode&&e.parentNode.removeChild(e),this}function E(e,t){return t.parentNode.replaceChild(e,t),this}function b(e,t){var n,r=this,i=t.text,o=t.style,a=t.time,d=t.callback,c=this.createElement("div",{className:t.className||"throbber",style:o}),u=this.createElement("div",{className:"throb"}),l=function(){n&&(clearTimeout(n),n=null),c&&(r.unwrap(e),r.remove(c),c=null)};i&&u.appendChild(this.createTextNode(i)),c.appendChild(u),this.wrapper(e,c);var s=function(){d&&d()};return a?n=setTimeout(s,a):s(),{remove:l}}function T(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)T(e.childNodes[n],t);return this}function w(e){for(var t=e.firstChild,n=e.children.length-1;n>0;n--)if(n>0){var r=e.children[n];e.insertBefore(r,t)}}function x(e,n){t.isString(n)&&(n=this.createFragment(n).firstChild),e.parentNode.insertBefore(n,e),n.appendChild(e)}function k(e,t){var n=R.call(e.childNodes);e.appendChild(t);for(var r=0;r<n.length;r++)t.appendChild(n[r]);return this}function A(e){var t=e.parentNode;if(t){if(this.isDoc(t.parentNode))return;t.parentNode.insertBefore(e,t)}}function D(){return D}var L=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),B=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=document.createElement("div"),H=document.createElement("table"),O=document.createElement("tbody"),$=document.createElement("tr"),F={tr:O,tbody:H,thead:H,tfoot:H,td:$,th:$,"*":S},I=Array.prototype.map,R=Array.prototype.slice;return t.mixin(D,{clone:a,contents:i,createElement:d,createFragment:c,contains:u,createTextNode:l,doc:s,empty:f,html:o,isChildOf:h,isDoc:p,ownerDoc:m,after:v,before:N,prepend:g,append:C,remove:y,replace:E,throb:b,traverse:T,reverse:w,wrapper:x,wrapperInner:k,unwrap:A}),e.noder=D});